@page "/registeruser"
@using Models

<div class="text-center mb-6">
    <h3 class="text-2xl font-semibold text-gray-700">Registrar Usuário</h3>
</div>

<EditForm Model="@usuarioModelo" OnValidSubmit="@HandleRegisterUsuario" class="flex flex-wrap items-center justify-center gap-4 mb-8">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <InputText @bind-Value="@usuarioModelo.Nome" placeholder="Nome" class="border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required />
    <InputText @bind-Value="@usuarioModelo.SobreNome" placeholder="Sobrenome" class="border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required />
    <InputText @bind-Value="@usuarioModelo.NomeDeUsuario" placeholder="Nome de Usuário" class="border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required />
    <InputText @bind-Value="@usuarioModelo.Senha" placeholder="Senha" type="password" class="border border-gray-300 p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required />
    
    <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">Registrar</button>
</EditForm>

<div class="overflow-x-auto mt-6">
    <table class="min-w-full bg-white shadow-md rounded-lg">
        <thead>
            <tr class="bg-blue-500 text-white">
                <th class="p-3 text-left">Nome</th>
                <th class="p-3 text-left">Sobrenome</th>
                <th class="p-3 text-left">Nome de Usuário</th>
                <th class="p-3 text-left">Senha</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in listaUsuario)
            {
                <tr class="border-b">
                    <td class="p-3">@user.Nome</td>
                    <td class="p-3">@user.SobreNome</td>
                    <td class="p-3">@user.NomeDeUsuario</td>
                    <td class="p-3">********</td>
                </tr>
            }
        </tbody>
    </table>
</div>

@* @code {
    private Usuario usuarioModelo = new Usuario();
    private List<Usuario> listaUsuario = new List<Usuario>();

    private void HandleRegisterUsuario()
    {
        // Add the user to the list after registration
        listaUsuario.Add(new Usuario
        {
            Nome = usuarioModelo.Nome,
            SobreNome = usuarioModelo.SobreNome,
            NomeDeUsuario = usuarioModelo.NomeDeUsuario,
            Senha = usuarioModelo.Senha
        });

        // Clear the form
        usuarioModelo = new Usuario();
    }
} *@
